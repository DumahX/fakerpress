void 0===window.fakerpress&&(window.fakerpress={}),window.fakerpress.fields={},window.fakerpress.ready_class="fp-js-ready",window.fakerpress.plugin="fakerpress",window.fakerpress.abbr="fp",window.fakerpress.fieldName=function(e){return e=e.map(function(e){return new String(e)}),this.plugin+"["+e.join("][")+"]"},window.fakerpress.fieldId=function(e){return this.plugin+"-field-"+e.join("-")},window.fakerpress.searchId=function(e){var t=null;return void 0!==e.id?t=e.id:void 0!==e.ID?t=e.ID:void 0!==e.value&&(t=e.value),null==e?null:t},window.fakerpress.fields.dates=function(t,e){"use strict";t(".fp-type-date").not(".hasDatepicker").datepicker({after:["attr"],constrainInput:!1,dateFormat:"yy-mm-dd"}),t(".fp-type-interval-wrap").each(function(){var e=t(this),n=e.find(".fp-type-dropdown"),i=e.find('[data-type="min"]'),s=e.find('[data-type="max"]');e.hasClass(window.fakerpress.ready_class)||(e.addClass(window.fakerpress.ready_class),i.on({change:function(e){i.parents(".fp-field-wrap").find('[data-type="max"]').datepicker("option","minDate",t(this).val()).datepicker("refresh"),t(".fp-type-date.hasDatepicker").datepicker("refresh")}}),s.on({change:function(e){s.parents(".fp-field-wrap").find('[data-type="min"]').datepicker("option","maxDate",t(this).val()).datepicker("refresh"),t(".fp-type-date.hasDatepicker").datepicker("refresh")}}),n.on({change:function(e){var t=n.find(":selected"),a=t.attr("min"),r=t.attr("max");i.datepicker("setDate",a),s.datepicker("setDate",r)}}).trigger("change"))})},window.fakerpress.fields.dropdown=function(s,o){"use strict";var e=s(".fp-type-dropdown").not(".select2-offscreen, .select2-container"),t={wp_query_title:[]};t.wp_query_title.push("ID: &quot;<%= ID %>&quot;"),t.wp_query_title.push("Title: &quot;<%= post_title %>&quot;"),t.wp_query_title.push("Post Type: &quot;<%= post_type.labels.singular_name %>&quot;"),t.wp_query_title.push("Author: &quot;<%= post_author %>&quot;"),e.each(function(){var r=s(this),n={width:420};if(r.is("[multiple]")?(n.multiple=!0,r.is("[data-tags]")||(n.data=function(){return{results:r.data("options")}}),o.isArray(r.data("separator"))?n.tokenSeparators=r.data("separator"):n.tokenSeparators=[r.data("separator")],n.separator=r.data("separator"),n.regexSeparatorElements=["^("],n.regexSplitElements=["(?:"],s.each(n.tokenSeparators,function(e,t){n.regexSeparatorElements.push("[^"+t+"]+"),n.regexSplitElements.push("["+t+"]")}),n.regexSeparatorElements.push(")$"),n.regexSplitElements.push(")"),n.regexSeparatorString=n.regexSeparatorElements.join(""),n.regexSplitString=n.regexSplitElements.join(""),n.regexToken=new RegExp(n.regexSeparatorString,"ig"),n.regexSplit=new RegExp(n.regexSplitString,"ig"),n.id=window.fakerpress.searchId):n.width=200,n.matcher=function(e,t){var a=0==t.toUpperCase().indexOf(e.toUpperCase());if(!a&&void 0!==n.tags){var r=o.where(n.tags,{text:t});if(0<n.tags.length&&o.isObject(r))a=0==window.fakerpress.searchId(r[0]).toUpperCase().indexOf(e.toUpperCase())}return a},r.is("[data-tags]")&&(n.tags=r.data("options"),n.initSelection=function(e,t){var a=[];s(e.val().split(n.regexSplit)).each(function(){var e={id:this,text:this};if(0<n.tags.length&&o.isObject(n.tags[0])){var t=o.where(n.tags,{value:this});0<t.length&&(e={id:(e=t[0]).value,text:e.text})}a.push(e)}),t(a)},n.createSearchChoice=function(e,t){if(e.match(n.regexToken))return{id:e,text:e}},0===n.tags.length&&(n.formatNoMatches=function(){return r.attr("placeholder")})),r.is("[data-source]")){var i=r.data("source");n.data={results:[]},n.allowClear=!0,n.escapeMarkup=function(e){return e},n.ajax={dataType:"json",type:"POST",url:window.ajaxurl,results:function(e){return s.each(e.results,function(e,t){t.id=t.ID}),e}},"WP_Query"===i?(n.formatSelection=function(e){return o.template('<abbr title="'+t.wp_query_title.join("&#13;&#10;")+'"><%= post_type.labels.singular_name %>: <%= ID %>')(e)},n.formatResult=function(e){return o.template('<abbr title="'+t.wp_query_title.join("&#13;&#10;")+'"><%= post_type.labels.singular_name %>: <%= ID %> <b>[</b> <em><%= post_title %></em> <b>]</b></abbr>')(e)},n.ajax.data=function(e,t){var a=o.intersection(s("#fakerpress-field-post_types").val().split(","),o.pluck(o.where(s("#fakerpress-field-post_types").data("options"),{hierarchical:!0}),"id"));return{action:"fakerpress.select2-"+i,query:{s:e,posts_per_page:10,paged:t,post_type:a}}}):(n.ajax.data=function(e,t){var a=r.parents(".fp-table-taxonomy").eq(0);return{action:"fakerpress.select2-"+i,search:e,page:t,page_limit:25,taxonomies:a.find(".fp-taxonomies").select2("val"),exclude:s(this).select2("val")}},n.formatSelection=function(e){return o.template("<%= taxonomy %>: <%= name %>")(e)},n.formatResult=function(e){return o.template("<%= taxonomy %>: <%= name %>")(e)})}r.select2(n)}).on("change",function(e){var t=s(this),a=s(this).data("value");t.is("[multiple]")&&t.is("[data-source]")&&(e.added?o.isArray(a)?a.push(e.added):a=[e.added]:a=o.isArray(a)?o.without(a,e.removed):[],t.data("value",a).attr("data-value",JSON.stringify(a)))})},window.fakerpress.fields.range=function(i,e){"use strict";i(".fp-type-range-wrap").each(function(){var e=i(this),r=e.find('.fp-type-number[data-type="min"]'),n=e.find('.fp-type-number[data-type="max"]');e.hasClass(window.fakerpress.ready_class)||(e.addClass(window.fakerpress.ready_class),r.on({"change keyup":function(e){var t=parseInt(r.val(),10),a=parseInt(n.val(),10);i.isNumeric(t)?(n.prop("disabled",!1),a&&i.isNumeric(a)&&a<t&&r.val(a)):(n.prop("disabled",!0),r.val(""))}}).trigger("change"),n.on({"change keyup":function(e){var t=parseInt(r.val(),10),a=parseInt(n.val(),10);i.isNumeric(a)&&a<t&&r.val(a)}}).trigger("change"))})},function(e){e(document).ready(function(){e.each(window.fakerpress.fields,function(e,t){t(window.jQuery,window._)})})}(jQuery),function(c,u){"use strict";window.fakerpress.fieldset={items:[{name:"meta",$:{},selector:{container:".fp-type-meta-container",item:".fp-table-meta",type_container:".fp-meta_type-container",type:".fp-meta_type",name_container:".fp-meta_name-container",name:".fp-meta_name",conf_container:".fp-meta_conf-container"},update:function(e){this.render(e)},render:function(e){var t,a=this,r=e.find(a.selector.type).select2("val"),n=(e.find(a.selector.name).val(),e.find(a.selector.name_container)),i=(e.find(a.selector.type_container),e.find(a.selector.conf_container)),s=i.find(window.fakerpress.fieldset.selector.wrap);i.data("config");r instanceof jQuery&&(r=r.val()),(t=c(".fp-template-"+r).filter('[data-rel="'+a.$.container.attr("id")+'"]').filter("[data-callable]").html())&&r!==i.data("type")&&(i.data("type",r),s.empty().append(t),this.configure(i)),r?(n.removeClass("fp-last-child"),i.show()):(n.addClass("fp-last-child"),i.hide())},configure:function(e){var l=this,f=e.data("config");e.find(window.fakerpress.fieldset.selector.field).each(function(){var e=c(this),t=e.parents(l.selector.item).eq(0),a=e.next(window.fakerpress.fieldset.selector.label),r=e.next(window.fakerpress.fieldset.selector.internal_label),n=e.data("name"),i=parseInt(t.find(window.fakerpress.fieldset.selector.order).val(),10)-1,s=n[i],o=e.data("name"),d=e.data("id"),p=[];n=[];0===a.length&&(a=e.parents(window.fakerpress.fieldset.selector.field_container).eq(0).find(window.fakerpress.fieldset.selector.label)),u.each(d,function(e,t,a){p.push(e),"meta"!==e&&"taxonomy"!==e||p.push(i)}),u.each(o,function(e,t,a){n.push(e),"meta"!==e&&"taxonomy"!==e||n.push(i)}),0!==p.length&&(e.attr("id",window.fakerpress.fieldId(p)),a.attr("for",window.fakerpress.fieldId(p)),r.attr("for",window.fakerpress.fieldId(p))),0!==n.length&&e.attr("name",window.fakerpress.fieldName(n)),void 0!==f&&void 0!==f[s]&&e.val(f[s])})},is_removeable:function(){if(1!==this.$.items.length)return!1;var e=this.$.items.eq(0);return!!u.isEmpty(e.find(this.selector.type).select2("val"))},setup:function(){var a=this;a.$.container.on("change",a.selector.type,[],function(e){var t=c(this);a.render(t),window.fakerpress.fieldset.update(a,!1)})},reset:function(e){}},{name:"taxonomy",$:{},selector:{container:".fp-type-taxonomy-container",item:".fp-table-taxonomy",taxonomies_container:".fp-taxonomies-container",taxonomies:".fp-taxonomies",terms_container:".fp-terms-container",terms:".fp-terms",weight_container:".fp-weight-container",weight:".fp-weight"},update:function(e){},is_removeable:function(){if(1!==this.$.items.length)return!1;var e=this.$.items.eq(0);return!(!u.isEmpty(e.find(this.selector.taxonomies).select2("val"))||!u.isEmpty(e.find(this.selector.terms).val()))},setup:function(){},reset:function(e){}}],selector:{wrap:".fp-field-wrap",duplicate:".fp-action-duplicate",remove:".fp-action-remove",order:".fp-action-order",label:".fp-field-label",internal_label:".fp-internal-label",field:".fp-field",field_container:".fp-field-container"},setup:function(a){var e=c("form").children(".form-table").children("tbody");a.$={},a.$.container=e.children(a.selector.container),a.$.wrap=a.$.container.children(window.fakerpress.fieldset.selector.wrap),a.$.container.on("click",this.selector.duplicate,[],function(e){var t=c(this).parents(a.selector.item).clone();t.find(".fp-type-date").removeClass("hasDatepicker").end().find(".fp-type-dropdown").removeClass("select2-offscreen").filter(".select2-container").remove(),window.fakerpress.fieldset.reset(a,t),a.$.wrap.append(t),window.fakerpress.fieldset.update(a)}),a.$.container.on("click",this.selector.remove,[],function(e){var t=c(this).parents(a.selector.item);1===a.$.items.length?window.fakerpress.fieldset.reset(a,a.$.items.eq(0)):t.remove(),window.fakerpress.fieldset.update(a)}),a.setup(),this.update(a,!1)},reset:function(e,t){t.find("tbody").find(window.fakerpress.fieldset.selector.field).each(function(){var e=c(this);e.val(""),e.hasClass("select2-offscreen")&&e.select2("val","")}),e.reset(t)},update:function(r){r.$.items=r.$.wrap.children(r.selector.item),r.is_removeable()?r.$.items.eq(0).find(window.fakerpress.fieldset.selector.remove).prop("disabled",!0).end().find(r.selector.name).prop("required",!1):r.$.items.find(window.fakerpress.fieldset.selector.remove).prop("disabled",!1).end().find(r.selector.name).prop("required",!0),r.$.items.each(function(o){var e=c(this),t=e.find(window.fakerpress.fieldset.selector.order),a=e.find(window.fakerpress.fieldset.selector.field);t.val(o+1),a.filter("input, textarea, select").each(function(){var e=c(this),t=e.next(window.fakerpress.fieldset.selector.label),a=e.next(window.fakerpress.fieldset.selector.internal_label),r=e.data("name"),n=e.data("id"),i=[],s=[];0===t.length&&(t=e.parents(window.fakerpress.fieldset.selector.field_container).eq(0).find(window.fakerpress.fieldset.selector.label)),u.each(n,function(e,t,a){i.push(e),"meta"!==e&&"taxonomy"!==e||i.push(o)}),u.each(r,function(e,t,a){s.push(e),"meta"!==e&&"taxonomy"!==e||s.push(o)}),0!==i.length&&(e.attr("id",window.fakerpress.fieldId(i)),t.attr("for",window.fakerpress.fieldId(i)),a.attr("for",window.fakerpress.fieldId(i))),0!==s.length&&e.attr("name",window.fakerpress.fieldName(s))}),r.update(e)}),c.each(window.fakerpress.fields,function(e,t){t(window.jQuery,window._)})}},c(document).ready(function(){c.each(window.fakerpress.fieldset.items,function(e,a){window.fakerpress.fieldset.setup(a),a.$.container.each(function(e,t){window.fakerpress.fieldset.update(a)})})})}(window.jQuery,window._);